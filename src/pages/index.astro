---
import { listProducts } from "@api/product/listProducts";
import Footer from "@components/Footer.astro";
import HeroSection from "@section/HeroSection.astro";
import Navbar from "@components/Navbar.astro";
import Layout from "@layouts/Layout.astro";
import ShortIntroSection from "@section/ShortIntroSection.astro";
import PartnerCompanies from "@section/PartnerCompanies.astro";
import { pageTitleDesc } from "content";
import ProductCards from "@components/ProductCards";
import CollectionGroup from "@components/CollectionGroup";

const res = await listProducts({ limit: 3 });
const products = res?.products;
---

<Layout
  title={pageTitleDesc.home.title}
  description={pageTitleDesc.home.description}
>
  <Navbar />
  <HeroSection />

  <!-- Featured section -->
  <ShortIntroSection />

  <!-- Feature Products -->
  <CollectionGroup title='Featured Products' link='/products' linkText='View all products'>
    <ProductCards products={products} client:load />
  </CollectionGroup>

  <!-- Partner company Logo cloud -->
  <PartnerCompanies />

  <Footer />
</Layout>
