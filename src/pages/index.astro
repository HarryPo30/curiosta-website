---
import { listProducts } from "@api/product/listProducts";
import Footer from "@components/Footer.astro";
import HeroSection from "@section/HeroSection.astro";
import Navbar from "@components/Navbar.astro";
import Layout from "@layouts/Layout.astro";
import ShortIntroSection from "@section/ShortIntroSection.astro";
import PartnerCompanies from "@section/PartnerCompanies.astro";
import { pageTitleDesc } from "content";
import ProductCards from "@components/ProductCards";
import Collection from "@pages/collection/index.astro";
import CollectionGroup from "@components/CollectionGroup";
import CollectionCard from "@components/CollectionGroup/CollectionCard";
import { collectionList } from "@api/product/collectionList";

const res = await collectionList({ limit: 3 });
const collections = res?.collections;
---

<Layout
  title={pageTitleDesc.home.title}
  description={pageTitleDesc.home.description}
>
  <Navbar />
  <HeroSection />

  <!-- Featured section -->
  <ShortIntroSection />

  <!-- Feature Products -->
  <CollectionGroup
    title="Collections"
    link="/collection"
    linkText="View all collections"
  >
    <CollectionCard collections={collections} client:load />
  </CollectionGroup>
  <!-- Partner company Logo cloud -->
  <PartnerCompanies />

  <Footer />
</Layout>
